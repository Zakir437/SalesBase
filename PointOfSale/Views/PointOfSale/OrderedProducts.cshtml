@model IEnumerable<PointOfSale.Models.ViewOrderTransaction>
@using System.Globalization;
@{ 
    var count = 0;
}
@if (Model.Count() > 0)
{
    <table class="table table-bordered table-hover table-responsive table-condensed table-striped">
        <tr>
            <th>SL.</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total Price</th>
            <th>Refund</th>
        </tr>
        @foreach (var list in Model)
        {
            count++;
            <tr>
                <td>@count. </td>
                <td>
                    @list.ProductName
                    @if (list.TransactionType == 1) // product
                     {
                        if (list.Discount > 0)
                        {
                            <img src="~/Images/DiscountImage/272498.png" />
                        }
                         if (list.RefundStatus == 1)
                         {
                            <i class="fa fa-reply" aria-hidden="true"></i>
                         }
                     }
                </td>
                @if (list.TransactionType == 1)
                 {
                    <td>@list.PerItemPrice.ToString("C", new CultureInfo("bn-BD"))</td>
                    <td>@list.Quantity</td>
                 }
                else
                {
                    <td>N/A</td>
                    <td>N/A</td>
                }
                @if (list.Discount > 0)
                 {
                    if (list.DiscountType == true)
                    {
                        <td>@list.Price.ToString("C", new CultureInfo("bn-BD")) Discount(Fixed) <span>@list.Discount</span>Tk(<span>@list.DiscountPercent</span>%)</td>
                    }
                    else
                    {
                        <td>@list.Price.ToString("C", new CultureInfo("bn-BD")) Discount(Percent) @list.DiscountPercent%(<span>@list.Discount</span>Tk)</td>
                    }
                 }
                else
                {
                    <td>@list.Price.ToString("C", new CultureInfo("bn-BD"))</td>
                }
                <td>
                    @if (list.Quantity > 0 && list.IsRefundAllow == true)
                     {
                        <button class="btn btn-danger btnRefundItem" data-id="@list.OrderTransactionId" data-quantity="@list.Quantity" data-productid="@list.ProductId" data-isrefundallow="@list.IsRefundAllow">Refund</button>
                     }
                    else
                    {
                        <span>Not Allow</span>
                    }
                </td>
            </tr>
         }
    </table>
 }
else
{
    <h4>There is no record to display</h4>
}
