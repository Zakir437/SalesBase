@{
    ViewBag.Title = "ProductServiceInfo";
    Layout = "~/Views/Shared/_LayoutForTemplate.cshtml";
}
<section class="content">
    <div class="panel panel-info">
        <div class="panel-heading" style="padding-bottom:46px;">
            <div class="pull-left">
                <h4 class="uppercase">Product Service</h4>
            </div>
        </div>
        <div class="panel-heading">
            <ul class="nav nav-tabs serviceTypeTab">
                <li class="active" id="liForAll"><a href="#tab1liForAll" data-toggle="tab">All</a></li>
                <li id="liForService"><a href="#tab2ProductServiceList" data-toggle="tab">Service</a></li>
                <li id="liForWarranty"><a href="#tab3WarrantyList" data-toggle="tab">Warranty</a></li>
                <li id="liForGuarantee"><a href="#tab4GuraranteeList" data-toggle="tab">Guarantee</a></li>
            </ul>
        </div>
        <div class="panel-body" style="border:none!important;">
            <div class="tab-content">
                <div class="tab-pane fade in active" id="tab1liForAll">
                    <div id="div_All"></div>
                </div>
                <div id="tab2ProductServiceList" class="tab-pane fade">
                    <div id="div_Service"></div>
                </div>
                <div id="tab3WarrantyList">
                    <div id="div_Warranty"></div>
                </div>
                <div id="tab4GuraranteeList">
                    <div id="div_Guarantee"></div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    var tab = 0, serviceType = 0, id = 0;
    $(document).ready(function () {
        $("#liForAll").click();
        $("#liForSalesMenu").addClass('active');
        $("#liForAfterSaleService").addClass('active');
    });

    function onChangeVoucher()
    {
        id = this.value();
        $("#divAllService").empty();
        $("#customerDropdown").data("kendoDropDownList").value("");
        if (tab == 1)
        {
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")?orderId=' + id);
        }
        else
        if (tab == 2)
        {
            serviceType = 1;
            passdata = { serviceType: serviceType, orderId: id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
        else
        if(tab == 3)
        {
            serviceType = 2;
            passdata = { serviceType: serviceType, orderId: id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
        else
        if (tab == 4)
        {
            serviceType = 3;
            passdata = { serviceType: serviceType, orderId : id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
    }

    function onChangeCustomer()
    {
        id = this.value();
        $("#divAllService").empty();
        $("#voucherDropdown").data("kendoDropDownList").value("");
        if (tab == 1)
        {
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")?customerId=' + id);
        }
        else
        if (tab == 2)
        {
            serviceType = 1;
            passdata = { serviceType: serviceType, customerId: id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
        else
        if(tab == 3)
        {
            serviceType = 2;
            passdata = { serviceType: serviceType, customerId: id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
        else
        if (tab == 4)
        {
            serviceType = 3;
            passdata = { serviceType: serviceType, customerId : id };
            $("#divAllService").append('<div class="loading_partial"></div>');
            $("#divAllService").load('@Url.Action("ProductServiceList", "Sales")', passdata);
        }
    }

    function clearBeforeClick()
    {
        $("#div_All").empty();
        $("#div_Service").empty();
        $("#div_Warranty").empty();
        $("#div_Guarantee").empty();
    }
    $("#liForAll").click(function () {
        tab = 1;
        clearBeforeClick();
        $("#div_All").append('<div class="loading_partial"></div>');
        $("#div_All").load('@Url.Action("AllServiceTab", "Sales")');
    });
    $("#liForService").click(function () {
        clearBeforeClick();
        tab = 2; serviceType = 1;
        passdata = { serviceType: serviceType };
        $("#div_Service").append('<div class="loading_partial"></div>');
        $("#div_Service").load('@Url.Action("AllServiceTab", "Sales")', passdata);
    });

    $("#liForWarranty").click(function () {
        clearBeforeClick();
        tab = 3; serviceType = 2;
        passdata = { serviceType: serviceType};
        $("#div_Warranty").append('<div class="loading_partial"></div>');
        $("#div_Warranty").load('@Url.Action("AllServiceTab", "Sales")', passdata);
    });
    $("#liForGuarantee").click(function () {
        clearBeforeClick();
        tab = 4; serviceType = 3;
        passdata = { serviceType: serviceType };
        $("#div_Guarantee").append('<div class="loading_partial"></div>');
        $("#div_Guarantee").load('@Url.Action("AllServiceTab", "Sales")', passdata);
    });
</script>
